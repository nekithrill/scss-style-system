@use 'sass:math';
@use 'sass:meta';
@use 'sass:list';

/// Converts pixel values to rem units.
///
/// @param {number | list} $value - A number in px, a list of numbers, or zero-values (0px, 0em, 0%, 0rem).
/// @param {number} $base - Base font-size in pixels (default: 16px).
///
/// @return {number | list} Corresponding rem value(s).
///
/// Notes:
/// - Converts px values to rem.
/// - Zero values of any unit (0, 0px, 0em, 0%, 0rem) are returned as 0.
/// - Other units are returned as-is.
/// - Works recursively on lists.

@function px-to-rem($value, $base: 16) {
	@if meta.type-of($value) == 'number' {
		$unit: math.unit($value);

		@if $value == 0 {
			@return 0;
		} @else if $value == 0px or $value == 0em or $value == 0rem or $value == 0%
		{
			@return 0;
		}

		@if $unit == 'px' {
			@return math.div($value, $base * 1px) * 1rem;
		}

		@return $value;
	}

	@if meta.type-of($value) == 'list' {
		$result: ();
		@each $item in $value {
			$result: list.append($result, px-to-rem($item, $base), 'space');
		}
		@return $result;
	}

	@return $value;
}
